<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Gobou Shop</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <link rel="stylesheet" th:href="@{/bower_components/bootstrap/dist/css/bootstrap.min.css}">
  <!-- Font Awesome -->
  <link rel="stylesheet" th:href="@{/bower_components/font-awesome/css/font-awesome.min.css}">
  <!-- Ionicons -->
  <link rel="stylesheet" th:href="@{/bower_components/Ionicons/css/ionicons.min.css}">
  <!-- Theme style -->
  <link rel="stylesheet" th:href="@{/dist/css/AdminLTE.min.css}">
  <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
        page. However, you can choose any other skin. Make sure you
        apply the skin class to the body tag so the changes take effect. -->
  <link rel="stylesheet" th:href="@{/dist/css/skins/skin-blue.min.css}">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js}"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js}"></script>
  <![endif]-->
    <!-- Select2 -->
  <link rel="stylesheet" th:href="@{/bower_components/select2/dist/css/select2.min.css}">



  <!-- Google Font -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
        
      <!-- My style css -->  
     <link th:href="@{/assets/css/myStyle.css}" rel="stylesheet">      
        
        
  	<script language="javascript"  type="text/javascript">
  	
  	//image show
	function displayImage() {
		  // Get the input and image elements
		  var fileInput = document.getElementById("file_name");
		  var image = document.getElementById("photo");

		  // Check if a file was selected
		  if (fileInput.files && fileInput.files[0]) {
		    // Create a new FileReader object
		    var reader = new FileReader();

		    // When the FileReader has loaded the file, set the src attribute of the image tag to the result
		    reader.onload = function(event) {
		      image.src = event.target.result;
		    }

		    // Read the selected file as a data URL
		    reader.readAsDataURL(fileInput.files[0]);
		  }
		}
	</script>  
	
	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>	
<script>
  $(document).ready(function() {
    var max_fields = 10;
    var wrapper = $("#div-container");
    var add_button = $("#add-div");
    var remove_button = $("#remove-div");
    var x = 1;
    
    $(add_button).click(function(e) {
      e.preventDefault();
      if (x < max_fields) {
        x++;
        $(wrapper).append('<div>'
        					+'<div class="box-body"><div>'
        					+'<label  class="col-sm-2 control-label">Document Name</label>'
        					+'<div class="col-sm-3">'+'<input type="text" class="form-control" name="doucumentName" id="doucumentName" placeholder="Document Name">'
        					+'</div></div><div>'
        					+'<label  class="col-sm-2 control-label">Select document</label><div class="col-sm-3">'
        					+' <input type="file"  id="image" name="image" multiple /></div></div></div>'
        					+' </div>');
      }
    });

    $(remove_button).click(function(e) {
      e.preventDefault();
      if (x > 1) {
        $(wrapper).children('div:last-child').remove();
        x--;
      }
    });
  });
</script>
	
	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>	
<script>
$(document).ready(function(){
  var selectedValue = $('#codeBarController').val();
  $('#codeBarController').change(function() {
  // get the selected value
  var selectedValue = $(this).val();
  if(selectedValue=="No"){
	  $("#BarCode").hide();
	  $("#BarCodelbl").hide();
  }
  if(selectedValue=="Yes"){
	  $("#BarCode").show();
	  $("#BarCodelbl").show();
  }
   
});
});

$(document).ready(function(){
	  var selectedValue = $('#imageUpload').val();
	  $('#imageUpload').change(function() {
	  // get the selected value
	  var selectedValue = $(this).val();
	  if(selectedValue=="No"){
		  $("#imageUploading").hide();
	  }
	  if(selectedValue=="Yes"){
		  $("#imageUploading").show();
	  }
	   
	});
	});
	
</script>
	
 
 <script >
 $(document).ready(function() {
	    // Get the selected option on page load
	    var selectedOption = $('#productSelect').find(':selected');
	    var cost = selectedOption.data('cost');
	    $('#costInput').val(cost);

	    // Add event listener for changes to the selected option
	    $('#productSelect').on('change', function() {
	        var selectedOption = $(this).find(':selected');
	        var cost = selectedOption.data('cost');
	        $('#costInput').val(cost);
	    });
	});
 </script> 
 
 <script>
 $(document).ready(function() {
	    // Get initial values for quantity and cost
	    var quantity = parseInt($('#quantityInput').val()) || 0; // Default to 0 if empty or non-numeric
	    var cost = parseFloat($('#costInput').val()) || 0; // Default to 0 if empty or non-numeric

	    // Update total cost whenever quantity or cost changes
	    $('#quantityInput, #costInput').on('input', function() {
	        quantity = parseInt($('#quantityInput').val()) || 0;
	        cost = parseFloat($('#costInput').val()) || 0;
	        var totalCost = quantity * cost;
	        $('#totalCostInput').val(totalCost.toFixed(2));
	    });

	    // Initialize total cost based on initial values
	    var totalCost = quantity * cost;
	    $('#totalCostInput').val(totalCost.toFixed(2));
	});
 </script>
</head>
<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to get the
desired effect
|---------------------------------------------------------|
| SKINS         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                             |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|LAYOUT OPTIONS | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition skin-blue  sidebar-mini">
<div class="wrapper">
	
	 		<!--Header -->
	<div th:insert="fragment/common :: header" ></div>
 	<!-- =======End Header  ======= -->
 
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar">

    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
    
      <!-- Sidebar user panel (optional) -->
	<div th:insert="fragment/common :: sidebarUser" ></div>
 	<!-- =======End Sidebar user panel ======= -->
      
     <!-- ======= Sidebar ======= -->
	<div th:insert="fragment/asidebarController :: asidebarPurchaseManage" ></div>
 	<!-- =======End Sidebar ======= -->
      
   </section> 
    <!-- /.sidebar -->
 </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Purchasing Product
        <small>purchase</small>
      </h1>
      <ol class="breadcrumb">
        <li><a th:href="@{../Dashboard/showDashboard}"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">purchase product</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content container-fluid">
      	   
      	  <div class="col-md-12">
         <div class="box box-primary">
            <div class="box-body pad table-responsive">				
      		<div class="box-header">
              <h3 class="box-title">Add Product Purchase</h3>
            </div>	
         			  <p style="color:green"   th:if="${param.message != null}" th:text="${param.message}"></p>
   				
      				 <!-- Back button-->
      				 <div id="backbtn">
      				 <a > <button type="button" onclick="javascript: window.history.go(-1);" class="btn btn-block btn-primary"><i class="fa fa-arrow-left"></i>back</button></a>
      				 </div>
      				 
          	    <!-- displaying message -->     
				<!-- <c:if test="${not empty message}">
    			<div class="alert alert-success">${message}</div>
				</c:if> -->
          	    <!-- end displaying message -->        
          	         
          	     <form   th:action="addPurchaseProduct"  th:object="${purchaseProduct}" method="post" enctype="multipart/form-data"> 
	  			<!-- Company Details-->
	 		 	 <section >
 	 			<div class="box box-primary">
            	<div class="box-body pad table-responsive">	
 						 <h5 >Purchasing Product Details</h5>
 				<div class="box-body">
                 <div>
                  <label  class="col-sm-2 control-label">Product</label>
                  <div class="col-sm-3">
                   <select class="form-control select2" id="productSelect" th:field="*{product.id}" >
					 	<option th:each="prod :${productAdds}" th:value="${prod.id}" th:text="${prod.productName +' '+prod.variantName}" th:data-cost="${prod.costPer}">
		 			</select>
                  </div>
                </div>
                 <div>
                  <label  class="col-sm-2 control-label">Cost</label>
                  <div class="col-sm-3">
                   
                   <input type="text" class="form-control" id="costInput" placeholder="Cost" th:field="*{cost}">
                  </div>
                </div>
              </div>
              <div class="box-body">
                 <div>
                  <label  class="col-sm-2 control-label">Quantity</label>
                  <div class="col-sm-3">
                   	  <input type="number" class="form-control" id="quantityInput" placeholder="Quantity" th:field="*{quantity}" >
                  </div>
                </div>
                 <div>
                  <label  class="col-sm-2 control-label">Total Cost</label>
                  <div class="col-sm-3">
                   <input type="text" class="form-control" id="totalCostInput" placeholder="Total Amount" th:field="*{totalCost}">
                  </div>
                </div>
              </div>
             
	          </div>
            <!-- /.box -->
          </div>
	 		 	 </section>	
	 
	 		 	 			
 	 					 <!-- Submit button-->
      				 <div id="submitbtn">
      				<input id="btn" type="submit" value="Save"  class="btn btn-block btn-primary"/> 
      				 </div>	
          			
         	 </form>
		
		
            </div>
            <!-- /.box -->
          </div>
        </div>	
    </section>
    <!-- /.content -->
  </div>

  
  
  
  
  
  
  <!-- /.content-wrapper -->

  	<!-- Main Footer -->
	<div th:insert="fragment/common :: footer" ></div>
 	<!-- =======End Main Footer ======= -->

</div>
<!-- ./wrapper -->

<!--   JS SCRIPTS -->

<!-- jQuery 3 -->
<script th:src="@{/bower_components/jquery/dist/jquery.min.js}"></script>
<!-- Bootstrap 3.3.7 -->
<script th:src="@{/bower_components/bootstrap/dist/js/bootstrap.min.js}"></script>
<!-- AdminLTE App -->
<script th:src="@{/dist/js/adminlte.min.js}"></script>

<!-- Optionally, you can add Slimscroll and FastClick plugins.
     Both of these plugins are recommended to enhance the
     user experience. -->  
     
 <!-- Select2 -->
<script th:src="@{/bower_components/select2/dist/js/select2.full.min.js}"></script>
       <!-- Page script -->
<script>
  $(function () {
    //Initialize Select2 Elements
    $('.select2').select2()

    //Datemask dd/mm/yyyy
    $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
    //Datemask2 mm/dd/yyyy
    $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
    //Money Euro
    $('[data-mask]').inputmask()

    //Date range picker
    $('#reservation').daterangepicker()
    //Date range picker with time picker
    $('#reservationtime').daterangepicker({ timePicker: true, timePickerIncrement: 30, format: 'MM/DD/YYYY h:mm A' })
    //Date range as a button
    $('#daterange-btn').daterangepicker(
      {
        ranges   : {
          'Today'       : [moment(), moment()],
          'Yesterday'   : [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
          'Last 7 Days' : [moment().subtract(6, 'days'), moment()],
          'Last 30 Days': [moment().subtract(29, 'days'), moment()],
          'This Month'  : [moment().startOf('month'), moment().endOf('month')],
          'Last Month'  : [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
        },
        startDate: moment().subtract(29, 'days'),
        endDate  : moment()
      },
      function (start, end) {
        $('#daterange-btn span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'))
      }
    )

    //Date picker
    $('#datepicker').datepicker({
      autoclose: true
    })

    //iCheck for checkbox and radio inputs
    $('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
      checkboxClass: 'icheckbox_minimal-blue',
      radioClass   : 'iradio_minimal-blue'
    })
    //Red color scheme for iCheck
    $('input[type="checkbox"].minimal-red, input[type="radio"].minimal-red').iCheck({
      checkboxClass: 'icheckbox_minimal-red',
      radioClass   : 'iradio_minimal-red'
    })
    //Flat red color scheme for iCheck
    $('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({
      checkboxClass: 'icheckbox_flat-green',
      radioClass   : 'iradio_flat-green'
    })

    //Colorpicker
    $('.my-colorpicker1').colorpicker()
    //color picker with addon
    $('.my-colorpicker2').colorpicker()

    //Timepicker
    $('.timepicker').timepicker({
      showInputs: false
    })
  })
</script>
      
     
     
     
</body>
</html>